(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{19:function(t,e,n){t.exports={item:"ContactListItem_item__1De6D",btn:"ContactListItem_btn__2Hw6G"}},20:function(t,e,n){t.exports={title:"Filter_title__3bKjm",input:"Filter_input__1FOLH"}},33:function(t,e,n){t.exports={Container:"Container_Container__1l0qX"}},34:function(t,e,n){t.exports={title:"Section_title__2JtP7"}},36:function(t,e,n){t.exports={list:"ContactList_list__9jqcd"}},38:function(t,e,n){t.exports=n(75)},7:function(t,e,n){t.exports={form:"ContactForm_form__r0Zp5",formLabel:"ContactForm_formLabel__2L75A",formInput:"ContactForm_formInput__1T37w",btn:"ContactForm_btn__3DUf0"}},74:function(t,e,n){},75:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(10),o=n.n(r),u=n(6),i=n(8),l=n.n(i),s=n(1),m=Object(s.b)("contacts/fetchContactsRequest"),b=Object(s.b)("contacts/fetchContactsSucces"),f=Object(s.b)("contacts/fetchContactsError"),d=Object(s.b)("contacts/addContactsRequest"),h=Object(s.b)("contacts/addContactsSucces"),p=Object(s.b)("contacts/addContactsError"),j=Object(s.b)("contacts/deleteContactsRequest"),C=Object(s.b)("contacts/deleteContactsSucces"),O=Object(s.b)("contacts/deleteContactsError"),g=Object(s.b)("contacts/changeFilter");l.a.defaults.baseURL="http://localhost:3000";var v,E,_=function(t){return function(e){e(d()),l.a.post("/contacts",t).then((function(t){var n=t.data;return e(h(n))})).catch((function(t){return e(p(t))}))}},N=function(t){return function(e){e(j()),l.a.delete("/contacts/".concat(t)).then((function(){return e(C(t))})).catch((function(t){return e(O(t))}))}},y=function(){return function(t){t(m()),l.a.get("/contacts").then((function(e){var n=e.data;return t(b(n))})).catch((function(e){return t(f(e))}))}},F=n(5),L=function(t){return t.contacts.filter},x=function(t){return t.contacts.items},I={getLoading:function(t){return t.contacts.loading},getFilter:L,getVisibleContacts:Object(F.a)([x,L],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),getExistingContactsName:Object(F.a)([x],(function(t){if(t.length>=0)return t.map((function(t){return t.name.toLowerCase()}))}))},w=n(13),S=n(32),k=n.n(S),D=n(2),q=n(4),R=Object(s.c)([],(v={},Object(D.a)(v,b,(function(t,e){return e.payload})),Object(D.a)(v,h,(function(t,e){var n=e.payload;return[].concat(Object(w.a)(t),[n])})),Object(D.a)(v,C,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),v)),A=Object(s.c)("",Object(D.a)({},g,(function(t,e){return e.payload}))),J=Object(s.c)(!1,(E={},Object(D.a)(E,d,(function(){return!0})),Object(D.a)(E,h,(function(){return!1})),Object(D.a)(E,p,(function(){return!1})),Object(D.a)(E,j,(function(){return!0})),Object(D.a)(E,C,(function(){return!1})),Object(D.a)(E,O,(function(){return!1})),Object(D.a)(E,m,(function(){return!0})),Object(D.a)(E,b,(function(){return!1})),Object(D.a)(E,f,(function(){return!1})),E)),T=Object(s.c)(null,{}),H=Object(q.c)({items:R,filter:A,loading:J,error:T}),M=[].concat(Object(w.a)(Object(s.d)()),[k.a]),P=Object(s.a)({reducer:{contacts:H},devTools:!1,middleware:M}),U=n(11),V=n(12),B=n(15),G=n(14),K=n(33),X=n.n(K),Z=function(t){var e=t.children;return c.a.createElement("div",{className:X.a.Container},e)},z=n(34),Q=n.n(z),W=function(t){var e=t.title,n=t.children;return c.a.createElement("section",null,c.a.createElement("h2",{className:Q.a.title},e),n)},Y=n(7),$=n.n(Y),tt=n(35),et=n.n(tt),nt=function(t){Object(B.a)(n,t);var e=Object(G.a)(n);function n(){var t;Object(U.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleChange=function(e){var n=e.currentTarget,a=n.name,c=n.value;t.setState(Object(D.a)({},a,c))},t.generateId=function(){et.a.generate()},t.handleFormFill=function(){var e=t.state,n=e.name,a=e.number,c=t.props.existingContactsName.includes(n.toLowerCase()),r=!n||!a,o=n.length<3;return c?alert("".concat(n," is already in contacts")):r?alert("Fill the form"):o?alert("Name should have more than 3 letters"):void t.props.onSubmit({name:n,number:a,id:t.generateId()})},t.reset=function(){t.setState({name:"",number:""})},t.handleSubmit=function(e){e.preventDefault(),t.handleFormFill(),t.reset()},t}return Object(V.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return c.a.createElement("form",{onSubmit:this.handleSubmit,className:$.a.form},c.a.createElement("label",{htmlFor:this.nameInputId,className:$.a.formLabel},"Name",c.a.createElement("input",{type:"text",name:"name",value:e,onChange:this.handleChange,className:$.a.formInput})),c.a.createElement("br",null),c.a.createElement("label",{htmlFor:this.numberInputId,className:$.a.formLabel},"Number",c.a.createElement("input",{type:"tel",name:"number",value:n,onChange:this.handleChange,className:$.a.formInput})),c.a.createElement("button",{type:"submit",className:$.a.btn},"Add contact"))}}]),n}(a.Component),at=Object(u.b)((function(t){return{existingContactsName:I.getExistingContactsName(t)}}),(function(t){return{onSubmit:function(e){return t(_(e))}}}))(nt),ct=n(37),rt=n(19),ot=n.n(rt),ut=function(t){var e=t.contact,n=t.onDeleteContact,a=e.name,r=e.number;return c.a.createElement("li",{className:ot.a.item},c.a.createElement("span",null,a,":"),c.a.createElement("span",null," ",r),c.a.createElement("button",{type:"button",onClick:n,className:ot.a.btn},"Delete"))},it=n(36),lt=n.n(it),st=function(t){var e=t.contacts,n=t.deleteContact;return c.a.createElement("ul",{className:lt.a.list},e.map((function(t){var e=t.id,a=Object(ct.a)(t,["id"]);return c.a.createElement(ut,{key:e,contact:a,onDeleteContact:function(){return n(e)}})})))},mt=Object(u.b)((function(t){return{contacts:I.getVisibleContacts(t)}}),(function(t){return{deleteContact:function(e){return t(N(e))}}}))(st),bt=n(20),ft=n.n(bt),dt=function(t){var e=t.value,n=t.onChange;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:ft.a.title},"Find contacts by name"),c.a.createElement("input",{type:"text",value:e,onChange:n,className:ft.a.input}))},ht=Object(u.b)((function(t){return{value:I.getFilter(t)}}),(function(t){return{onChange:function(e){return t(g(e.target.value))}}}))(dt),pt=function(t){Object(B.a)(n,t);var e=Object(G.a)(n);function n(){return Object(U.a)(this,n),e.apply(this,arguments)}return Object(V.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return c.a.createElement(Z,null,c.a.createElement(W,{title:"Phonebook"},this.props.isLoadingContacts&&c.a.createElement("h1",null,"Loading..."),c.a.createElement(at,null)),c.a.createElement(W,{title:"Contacts"},c.a.createElement(ht,null),c.a.createElement(mt,null)))}}]),n}(a.Component),jt=Object(u.b)((function(t){return{isLoadingContacts:I.getLoading(t)}}),(function(t){return{fetchContacts:function(){return t(y())}}}))(pt);n(73),n(74);o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(u.a,{store:P},c.a.createElement(jt,null))),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.02843807.chunk.js.map